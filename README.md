# Sensores 游꺄 

<!--
TODO: poner modelo de sensores de referencia.
TODO: poner cosas que salieron mal: medicion presi칩n a 40cm, ...)
TODO: poner fotos de todos los experimentos para todos.
TODO: terminar de analizar 칤ultimos datos.
TODO: poner tabla de resuemn resultados sensores.
-->

Se seleccionaron los sensores en la siguiente tabla para medir las variables fisicoqu칤micas de: Temperatura, Conductividad, pH, Nivel de agua y Turbidez.

| Variable                   | Modelo Sensor                    | Rango                                       | Error                              | Resoluci칩n                       |
| -------------------------- | -------------------------------- | ------------------------------------------- | ---------------------------------- | -------------------------------- |
| T췈                         | DS18B20                          | \-10춿C - 85춿C                               | 췀0.5 췈C                            | 0,0625 춿C<br>(12 bit)            |
| Presi칩n                    | HK1100C                          | 0 - 1,2 MPa                                 | 1.5% FS                            | 18 kPa<br>1.8 mt H2O             |
| pH                         | Gravity: Analog pH Sensor/Meter  | 0 - 14 pH                                   | 췀0,1 pH                            | 0,014 pH<br>(12 bit)             |
| Conductividad<br>El칠ctrica | Gravity: Analog TDS Sensor/Meter | 0 - 1000ppm<br>0 - 2000 uS/cm<br>0 - 2mS/cm | 췀 10% FS<br>200 uS/cm<br>0.2 mS/cm | 1,3 ppm<br>2,6 uS/cm<br>(12 bit) |
| Turbiedad                  | Grove - Turbidity Sensor/Meter   | 0 - 3000 NTU                                | No indica                          | 4,5 NTU<br>(12 bit)              |

- adem치s se toma en cuenta los voltajes de funcionamiento de los sensores y el protocolo de comunicaci칩n.


Por lo general se someti칩 a los sensores a tipos de pruebas que permitieran evaluar dos dimensiones principales de su comportamiento: (1) su presici칩n y (2) su desempe침o por periodos prolongados de sumersi칩n en medio acu치tico ('sensor drift'). 

## Temperatura


<img title="a title" alt="Alt text" src="docs/images/sensor_temp.png" width="200px">
<img title="a title" alt="Alt text" src="docs/images/sensor_temp_experimento1_foto.jpg" width="300px">
<img title="a title" alt="Alt text" src="docs/images/sensor_temp_experimento1.png" width="300px">

Experimentos demostraron un buen desempe침o del sensor en su comportamiento en el tiempo

- comportamiento s칰per predecible.
- se debe ajustar el offset inicial.
- despu칠s de un tiempo se puede observar una leve desviaci칩n de la medidas, pero se puede corregir completamente reajustando el offset.
- errores menores a 0.5췈C y 1췈C


TODO: - Colocar sensor de referencia para saber cu치l es.

<img title="a title" alt="Alt text" src="docs/images/sensor_temp_plot_hist.png">

- Error de dos sensores ds18b20 el primer mes de medici칩n:
TODO: (se puede corregir por offset el error 1? indicar que sensores ten칤an un poco de uso ya?)

<img title="a title" alt="Alt text" src="docs/images/sensor_temp_experimento1_error.png" width="400px">

- Error de sensores luego de 7 meses de uso. Experimento dura 1 mes.

<img title="a title" alt="Alt text" src="docs/images/sensor_temp_experimento3_error.png" width="400px">

- Se desarrolla nueva metodolog칤a hacia 칰ltimos experimentos: ver perfil de medici칩n en el rango. Se observa algo de hist칠resis en ambos sensores para la bajada.
TODO: (considerar r치pidez en la toma de datos, existe hist칠resis en la bajada de temperatura para cambios r치pidos)


<img title="a title" alt="Alt text" src="docs/images/sensor_temp_experimento3_perfil_inicial.png" width="700px">
<img title="a title" alt="Alt text" src="docs/images/sensor_temp_experimento3_rmse_perfil.png" width="500px">

## Conductividad

<img title="a title" alt="Alt text" src="docs/images/sensor_tds.png" width="300px">

TODO: (fotos del experimento)
TODO: al medir dos sensores de conductividad se afectan la medida. Pero el de conductividad con pH o presi칩n o temp no.

- Ojo: Documentaci칩n indica rango [0,2000 uS/cm] ([link producto](https://www.dfrobot.com/product-1662.html))

- Perfil de medici칩n luego de 1 mes de experimento:
    - metodolog칤a incluye sensor de control.
    - desgaste irrecuperable del sensor sumergido.
    - no se ve hist칠resis y tampoco en los datos

<img title="a title" alt="Alt text" src="docs/images/sensor_tds_experimento3_perfil_ini.png" width="500px">

<img title="a title" alt="Alt text" src="docs/images/sensor_tds_experimento3_perfil_fin.png" width="500px">

- Si es importante la saturaci칩n sobre los valores ~1500 uS/cm y ~2000 uS/cm.

<img title="a title" alt="Alt text" src="docs/images/sensor_tds_experimento3_rmse_rango.png" width="500px">

- Se esperan m치s experimentos para ver si es por depositos de minerales en el sensor, o si es corregible, o fue un error puntual, o etc.

## pH

<img title="a title" alt="Alt text" src="docs/images/sensor_ph.jpeg" width="300px">

TODO: fotos experimento

- no se ve mucha hist칠resis
- hay harta variaci칩n en la calibraci칩n pero es posible recalibrarla y los sensores vuelven a funcionar.
- se esperar hacer m치s experimento para corroborar datos y adem치s poder ir estimando que tan r치pido se descalibran los datos, y cu치nto se va perdiendo de presici칩n con cada recalibraci칩n.

- Perfil inicial del experimento:
<img title="a title" alt="Alt text" src="docs/images/sensor_ph_experimento3_perfil_ini.png" width="500px">

- Perfil al final del experimento sin recalibrar:
<img title="a title" alt="Alt text" src="docs/images/sensor_ph_experimento3_perfil_int.png" width="500px">

- Perfil final con recalibraci칩n de los sensores:
<img title="a title" alt="Alt text" src="docs/images/sensor_ph_experimento3_perfil_fin.png" width="500px">


## Nivel de Agua

<img title="a title" alt="Alt text" src="docs/images/sensor_presion.png" width="200px">
<img title="a title" alt="Alt text" src="docs/images/sensor_presion_atm.png" width="200px">

- Se utilizan dos sensores para calcular la columna de agua 
- TODO: Poner sensores dereferencia para ambos casos.

<img title="a title" alt="Alt text" src="docs/images/sensor_presion_experimento1_0.png" width="300px">
<img title="a title" alt="Alt text" src="docs/images/sensor_presion_experimento1_1.jpeg" width="300px">
<img title="a title" alt="Alt text" src="docs/images/sensor_presion_experimento1_2.jpeg" width="300px">

<img title="a title" alt="Alt text" src="docs/images/sensor_presion_experimento1.png" width="1000px">
<img title="a title" alt="Alt text" src="docs/images/sensor_presion_experimento1_rmse.png" width="350px">

- 칰ltimos experimentos fueron en baldes de agua y mato, porque muy poca altura asi que el desempe침o fue peor, pero este no empeor칩 luego de 6 meses con sensores sumergidos.

<img title="a title" alt="Alt text" src="docs/images/sensor_presion_experimento3_rmse.png" width="300px">

## turbidez

<img title="a title" alt="Alt text" src="docs/images/sensor_turbidez.png" width="200px">

- primeros experimento dieron cualquier cosa, dificultad en uso de sensor muy delicados a la luz y otras variables dificiles de controlar.

<img title="a title" alt="Alt text" src="docs/images/sensor_turbidez_experimento1.png" width="500px">

- Errores del rango de ~1000 NTU. No confiables, quiz치s solo apra alertas grandes pero mejor seguir buscando.

<img title="a title" alt="Alt text" src="docs/images/sensor_turbidez_experimento2_1.png" width="500px">



# 游눹 Electr칩nica

## Dise침o
El dispositivo de electronica (nodo sensor) dise침ado para el monitoreo de de agua en intervalos de tiempo de manera aut칩noma, esta basado en tomar las medidas con sesores para ser enviadas mediante comunicaci칩n serial a un sistema de comunicaci칩n para el monitoreo de estas caracter칤sticas, este dispositivo tomar치 medidas de pH, Condutividad, turbidez, temperatura y presi칩n.

*imagen sistema completo resaltando el nodo sensor*

### Prototipo
Como prototipo  se realiz칩 un circuito en Arduino para realizar pruebas con sesores, medidas y comunicaci칩n para obtener una versi칩n funcional que pudiera enviar los datos. Este prototipo su funcionamiento principal se basa en dos estados principalmente Reposo (Sleep), estado en el cual se esta en bajo consumo y sin trabajo de meddidas y segundo activo que esta encargado de tomar las medidas de los sensores, guardar estos datos de manera codificada y enviarlos de manera serial con comunicaci칩n 485.

El funcinamiento b치sico se puede ver en el siguiente diagrama:

<img title="a title" alt="Alt text" src="docs/images/diagrama_func_simple.png">

#### Selecci칩n de componentes.
Dado lo anterior los componentes que integran este prototipo inicial son los siguientes:

1. **Arduino Nano:** Microcontrolador principal con el programa principal.
1. **ADC:** Lectura de se침ales anal칩gicas a digitales de los sensores.
1. **RTC:** Encargado de establecer las alarmar de medida y envio al microcontrolaor para llevar a cabos estas tareas.   
1. **Modulo SD:** Para el guardado de los datos medidos de manera codificada.
1. **Sensores:** Temperatura, conducitividad, pH, Presi칩n y Turbidez. 
1. **RS485:** Para realizar una comunicaci칩n serial de gran alcance(>10m).

Destacar que estos sensores seleccionados se sometieron a una serie de pruebas para comprobar su rendimiento, ver sus limitaciones y desgaste en el tiempo explicado en mas destalle en el apartado de sensores.

Por otra parte la conexi칩n entre estos componentes esta dado se manera simplificada en el diagrama a continuaci칩n:

<img title="a title" alt="Alt text" src="docs/images/diagrama_bloque_simple.png">
<img title="a title" alt="Alt text" src="docs/images/electronica_conexiones_prototipo.png" width="400px">

Donde los sensores TDS, pH y turbidez poseen su electr칩nica, el de presi칩n entrega sus valores al ADC y el de temperatura mediante comunicaci칩n "OneWire" directamente al microcontrolador. El m칩dulo SD se comunica con el microcontrolador a travez de conexion "ISCP", en cambio el ADC posee una conexi칩n I2C para tener las se침ales de los 4 sensores y por 칰ltimo la imformaci칩n de los sensores es enviada de manera serial al componente 485 y es enviada mediante los canales A y B. 

Como resultados iniciales se tiene un nodo sensor capaz de obtener medidas, guardar estos datos en una microSD y adem치s enviar estos datos de manera serial siendo un prototipo inicial lo suficientemente 칰til para la realizaci칩n de pruebas en profundidad y analizar las limitaciones de los sensores bajo condiciones en profundidad controlada.

<img title="a title" alt="Alt text" src="docs/images/electronica_prototipo_armado.png" width="500px">

### PCB
Continuando con las mejoras del del nodo sensor, y el prototipo funcionando de manera adecuada, si bien es un dispositivo apto para la realizaci칩n de pruebas controladas, se busca un dispositivo m치s apto en terrenos reales, como profundidasdes de aguas de al menos 30 metros. Para ello se reliz칩 una integraci칩n den PCB con un frabicante local de PCB y dise침o de circuitos, pasando prototipo a una PCB con mejoras incluidas dadas principalmente en el sistema de energ칤a y espacio:

1. **Fuente energ칠tica con bater칤as:** Agregar al nodo un circuito de energ칤a que sea alimentado a trav칠z de bater칤as de litio 18650 con toda su electr칩nica para un correcto funcionamiento (Cagardores y elevadores).
2. **Distribuci칩n energ칠tica de componentes:** Dividir la fuente de energ칤a en una activa (5V) que siempre entrega alimentaci칩n al sistema y una de reposo (5Vs) que se apaga cuando el sistema no esta midiendo o enviado datos para aquellos componentes que puedan ser apagados para reducir el consumo lo mayor posible.
3. **Reducci칩n de espaci칩n para Carcasa:** Optimizar el espacio creando un dispositivo con la electr칩nica m치s compacto para la utilizaci칩n de la carcasa especial que fue dise침anada especialemnte para ser m치s apta al surmergirse.

<img title="a title" alt="Alt text" src="docs/images/diagrama_alimentacion.png">

La PCB incluye toda la electr칩nica de sensores y las necesarias  como reguladores de voltaje (-5V,3V,-3V y 3.3V) para compoenetes y electr칩nica siendo una pieza completa que se insertan los sensores para tomar las medidas. Posee adem치s una conexion FTDI para realizar la programaci칩n del microcontrolador y un interruptor para utilizar comunicaci칩n serial directa al microcontrolador en vez de la 485 para la realizaci칩n de pruebas.

<img title="a title" alt="Alt text" src="docs/images/PCBnombrada_v0.png">



#### Historial de Versiones

Debido a diversos tipo de situaciones como falta de pistas o distribuciones de los componentes en diferentes fuentes de energ칤a (5V y 5Vs) o simple optimizaci칩n de esta, se obtuvieron diferentes versiones de PCB como modificaciones diferenciadas principalmente en la distribuci칩n energ칠tica a modo mejora,  estas versiones y modificaciones estan resumidas en la siguiente tabla.

|       PCB         |                  **Modificaci칩n**                 |                    **Caracter칤sticas**                   |                         **Resultado**                        |                              **Problemas**                             |
|----------------|:--------------------------------------------|:--------------------------------------------------------|:------------------------------------------------------------|:----------------------------------------------------------------------|
|    **Versi칩n 1.a**    | Primera PCB fabricada                        | Distribuci칩n de alimentaci칩n en reposo y continua.       | Placa completamente funcional                                | La alimentaci칩n de resposo solo esta conectada con el compoente RS485. |
| Version 1.b | Corte y cambio de pistas para la PCB inicial | Distribucion energ칠tica de compoenetes mas eficiente.    | Reducci칩n del consumo en estado activo.                      | Componete RS485 de alto consumo en rposo                               |
| Version 1.c | Cambio de compoente RS485 manualmente        | Optimizaci칩n de consumo en rposo                         | Problema funcional de la placa, (mala practica de soldadura) | PCB sin funcionamiento. |
|    **Versi칩n 2.a**    | PCB con enrrutado nuevo                      | Compoentes divididos en su mayoria correctamente         | Placa completamente funcional                                | RS485 de alto consumo y en alimentaci칩n continua, falta de una pista.  |
|    **Versi칩n 3.a**    | PCB con enrrutado nuevo                      | Correccion de la pista faltante de la version antrerior. | Placa completamente funcional                                | RS485 de alto consumo y en alimentaci칩n continua.                      |

Estas versiones se ejemplifican en esquemas a continuaci칩n para detallar los cambios de distribuci칩n energ칠tica de los compoentes que son alimentados con 5Vs y 5v respectivamente.

<img title="a title" alt="Alt text" src="docs/images/diagrama_versiones.png">

<br>
- Mejoras no realizadas: como mejoras no realizadas se tiene el cambio del componente de comunicaci칩n 485 de alto consumo debido a que es antiguo, aun m치s en esta versi칩n ya que esta conectado en la alimentaci칩n constante por lo que este consume con el sistema en reposo.
## Fabricaci칩n

Con los archivos de una versi칩n funcional del sistema (Versi칩n N춿2), se realiz칩 un estudio en la fabricaci칩n de esta placa para tener una idea y obtener un analisis en terminos de los costos que tiene finalmente el "nodo sensor". 


### Cotizaci칩n:
Para cotizar se considero la posibilidad de una fabricaci칩n y ensablaje completamente externo con los componetes entregados por el fabricante.

#### 1. Fabricaci칩n y ensamblaje externo:
Consireaciones:
 * Para esta cotizaci칩n se tomaron en cuenta los fabricantes: JLCPCB, PCBway, PCBgogo, EEcart, SeedStudio.
 * Los precios obtenidos son dados en base a cotizaciones rapidas entregadas por los fabricantes.
 * Los archivos requeridos para las cotizaciones Gerber (PCB), BOM (componentes) con un formato espec칤fico para cada fabricante y el *"pick and place"* en algunos casos.
 * La cotizaci칩n fue realizada para una cantidad de 5 PCBs ensambladas (cantidad m칤nima aceptada).

 #### 2. Fabircaci칩n externa y ensamblado local:
 La cotizaci칩n de esta opci칩n la placa es fabricada de manera externa y los componetes cotizados a los distribuidores.

 Consideraciones:
* El ensamblaje se consider칩 de manera manual.
* Utilizaci칩n de stencil para el ensamblado.
* Se realiz칩 una cotizaci칩n de 5 placas.
* No todos los componentes son f치ciles de obtener, se tiene que buscar sustitutos dependiendo del stock.
* Digikey y Mouser como distribuidores de componentes (al ser los mas completos).
#### 3. Comparaci칩n de opciones:

Dado el detalle del valor de componentes se hace una comparaci칩n entre las 2 opciones de fabricado,se consider칩 EEcart y PCB como fabricantes por ser las mejores opciones. adem치s de una fabricaci칩n completa externa con una optimizaci칩n de precios en componentes (RTC,pH), por un lado el RTC tiene un precio elevado y por otro el conector de pH se adquiere con el sensor.

Resultados y precios:

|                             | **Total (5u)** | **Total+ 30%** | **Precio unitario** | **Tiempo**  |
|-----------------------------|----------------|----------------|---------------------|-------------|
| **Local**                   | $772.09        | $1003.72       | $200.74             | 3-4 semanas |
| **Externa EEcart**          | $907.26        | $1179.44       | $235.89             | 5 semanas   |
| **Externa PCBWay**          | $888.45        | $1176.19       | $231.00             | 5.5 semanas |
| **Externa PCBWay (RTC,pH)** | $705.06        | $916.58        | $183.32             | 5 semanas   |


Considerar adem치s un precio extra en cuando a sensores y bater칤as del dispositivo de $100.92USD/unidad aprox.

#### 4. Pros y contras

|    Fabricaci칩n Local    | Fabricacion Externa |
|-----------------------------|----------------|
| - Menos tiempo estimado de realizaci칩n. <br> - Menor precio estimado. <br> - Ensamblado manual. <br> - Dificultad de obtenci칩n de algunos componentes (stock limitado).  |      - La placa llega para usar directamente. <br> - Margen de optimizaci칩n. <br> - Mayor tiempo de espera. <br> - Mayor precio.       |

### Programaci칩n
Hablando del software del dispositivo nodo sensor se poseen 2 versiones  con y sin SD para su funcionamiento, estos posee las siguentes caracteristicas:
1. Posee variables de los per칤odos de medida y envv칤o de datos: Es una de las caracter칤sticas m치s importantes para la definici칩n de tiempos de funcinamniento del sistema. La variable "Freq_sens" indica cada cuantos segundos tomada una medida de los sensores y la variable "Freq_send" representa el intervalo en segundos en el que son enviados los datos, claramente  Freq_send > Freq_sens  ya que deben existir datos medidos para ser enviados.
2. Codificaci칩n de lectura de datos: Para realizar un env칤o m치s eficiente ya sea por velocidad, memoria, disminuci칩n de consumo energ칠tico en el momento de enviar datos se desarroll칩 una librer칤a que codifique los datos para ello. Lo importante a destacar es qu exite una codificaci칩n de lectura y otra de envio explicada mas adelante.

La codificaci칩n de lectura simplemente pasa a bytes(9) la medida (valor) del sensor, tiempo(timestamp) dado por la alarma de medida del RTC en formato "Unix" y si ID del sensor (valor predeterminado).

3. Guardado de datos en un "DataBlock": Los datos de cada intervalo, es decir, el tipo (sensor ID), su valor y tiempo de medida (Timestamp) en cada sensor son codificados (explicado m치s adelante) en bytes al que llamaremos "sensor reading", estos son generados en cada medida y ser치 guardado en el "Datablock" (arreglo) de 512 bytes que actuara como memoria RAM-buffer. Los "sensor reading" son lo que poseen la codificaci칩n de lectura con un largo de 9 bytes para el guardado de los datos. Dado esto la estructura del Datablock esta dada por 2 bytes para llevar el conteo de medidas, 504 bytes para "sensor reading" (56 medidas u 11 medidas de 5 sensores) y 6 bytes sobrantes como se puede ver a continuaci칩n.

Para el caso de la sd cuando el DataBlock esta lleno guarda los datos en archivos binarios dentro de la tarjeta SD y los env칤a junto a los valores del arreglo cuando sea el tiempo de enviado con una codificaci칩n nueva para el enviado. Si es la versi칩n sin sd no se posee m치s memoria que la del arreglo por lo que esta limitado a medir una cantidad maxima de datos antes de enviar, por lo que la "Freq_send" tiene esta limitante, por ejemplo,un m치ximo de 11 veces la Freq_sens para 5 sensores para no perder datos en la codificaci칩n base.

<img title="a title" alt="Alt text" src="docs/images/datablock.png">

4. Codificaci칩n par env칤o de datos: Para reducir la cantidad de tama침o de los datos enviados y asi realizar un env칤o m치s r치pido con menor consumo, se reali췂zaron distitos tipos de codificaci칩n de enviado a modo de reducir el tama침o de los datos.
* Codificiaci칩n de env칤o base:  Para esta codificiaci칩n y las siguientes se define un nuevo bloque "Sensing Unit", que se divide en 1byte "Header" que posee la informacion del tipo de codificaci칩n y la ID del sensor y 6 bytes "Payload" que contiene 4bytes para el Tiemstamp y solo 2bytes para el valor del sensor, esta reducci칩n ene le valor del sensor se debe a que los valores de los sensores al ser peque침os pueden ser prefectamente representados en 2bytes. Reduciendo la unidad "sensor reading" de 9bytes a la unidad "Sensong Unit Base" de 7bytes.

<img title="a title" alt="Alt text" src="docs/images/sensing_unit_base.png">

* Codificaci칩n env칤o repetivvio:
* COdificacion env칤o diferencial:



4. Los datos son envidos mediante transmisi칩n serial RS485  como paquetes de bytes: Como los datos son codificados a bytes estos son enviados de esta manera en paquetes de bytes a trav칠s de comunicaci칩n serial RS485 estos estan dados por un tama침o m치ximo de 51 bytes, es decir, 7 Sensing Unit (49 bytes) y 2 bytes para detecci칩n de errores. Este tama침o se define debido a que es el tama침o m칤nimo de un paquete en LoRa (m칩dulo de comunicaci칩n inal치mbrica utilizada en la superficie del sistema).




C칩digo completo:
El primero es el codigo completo que utiliza la sd para el guardado de los datos, el codigo esta centro

Ejemplos del funcionamiento de medidas:



## Roadmap
backlog
pasos futuros

| N  | T칤tulo                                         | Detalle                                                                                                                                                                                                                                                                                                                                                                                                      |
| -- | ---------------------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1  | Mover uSD a superficie                         | Hacer que la uSD sea controlada y alimentada desde el nodo de comunicaciones en vez del nodo sensor.                                                                                                                                                                                                                                                                                                         |
| 2  | Bajar ciclos del oscilador a 8Mhz              | Disminuir ciclos del oscilador de 16MHz a 8MHz. Esto disminuye la velocidad a la que opera el sistema sin afectar el funcionamiento de los programas. Funcionando a la mitad de ciclos se espera una disminuci칩n del consumo del procesador en el sistema.                                                                                                                                                   |
| 3  | Ocupar VCC 3.3V                                | Bajar alimentaci칩n del sistema de 5V a 3.3V. Se debe prototipar y validar el funcionamiento de componentes y electr칩nica. Con este cambio disminuye el consumo general de energ칤a del sistema obteniendo mayor desempe침o de estados de deep-sleep.                                                                                                                                                           |
| 4  | Amplificador universal multiplexado            | Si se caracterizan debidamente las sondas y se verifica que el procesamiento de los circuitos intermediarios se pueden realizar de forma digital, una opci칩n es tener un amplificador para todas las sondas, las cuales mediante multiplexi칩n temporal entren a 칠ste (opcionalmente un digipot puede ayudar a modificar la ganancia). Esto podr칤a reducir dr치sticamente la cantidad de componentes en placa. |
|    | Integrados de carga de bater칤as en paralelo    |                                                                                                                                                                                                                                                                                                                                                                                                              |
| 5  | Autonom칤a de sensores (drift)                  | Si se va a aumentar la autonom칤a del sistema, es necesario verificar si en ese horizonte de tiempo los sensores ser치n funcionales.                                                                                                                                                                                                                                                                           |
| 8  | Optimizaci칩n de componentes                    | Relacionado con los puntos 3 y 4, hay que repasar toda la selecci칩n de componentes en t칠rminos de funciones y equipos. Tambi칠n se relaciona con la programaci칩n.                                                                                                                                                                                                                                             |
|    |                                                |                                                                                                                                                                                                                                                                                                                                                                                                              |
| 6  | Autonom칤a energ칠tica (solar, electr칩nica)      | A침adir un sistema de carga solar para recargar las bater칤as 18650 del nodo sensor podr칤a en pr치cticamente cualquier caso mejorar la autonom칤a.                                                                                                                                                                                                                                                               |
| 7  | Bater칤a de auto                                | Colocar una bater칤a de auto para todo el sistema te칩ricamente asegurar칤a una mayor autonom칤a.                                                                                                                                                                                                                                                                                                                |
| 9  | Programar nodo a distancia                     | \- Se podr칤a cambiar el atmega por un esp que se programe a distancia.                                                                                                                                                                                                                                                                                                                                       |
| 10 | Switch magn칠tico de encendido                  | Se puede agregar un switching on/off del sistema que se puede activar desde fuera de la carcasa con un im치n para de esta manera poder ahorrar energ칤a cuando no se est칠 utilizando el dispositivo.                                                                                                                                                                                                           |
| 11 | Modularizar datalogger de adaptadores sensores | Separar en placas separadas, pero conectables el datalogger (uC, RTC, SD, energ칤a) de electr칩nica de amplificaci칩n de los sensores dfrobot (pH, turbidez, conductividad)                                                                                                                                                                                                                                     |      z<x
